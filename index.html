<!doctype html>
<html lang="mr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>рдорд░рд╛рдареА AI рджреЛрд╕реНрдд</title>
  <style>
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; background:#0b0b0b; color:#e5e5e5; margin:0; }
    .wrap { max-width:800px; margin:0 auto; padding:24px; }
    .card { background:#111; border:1px solid #222; border-radius:16px; padding:20px; box-shadow:0 10px 30px rgba(0,0,0,.3); }
    .title { font-size:28px; font-weight:700; margin-bottom:8px; color:#7df9ff; }
    .tagline { opacity:.8; margin-bottom:16px; }
    .row { display:flex; gap:8px; margin-top:12px; }
    input, button, textarea { border-radius:12px; border:1px solid #333; background:#0f0f10; color:#e5e5e5; padding:12px; }
    input, textarea { flex:1; }
    button { cursor:pointer; }
    .resp { white-space:pre-wrap; background:#0d0d0d; border:1px solid #222; padding:14px; border-radius:12px; margin-top:12px; min-height:80px;}
    .hint { font-size:12px; opacity:.7; margin-top:6px; }
    .footer { text-align:center; opacity:.6; font-size:12px; margin-top:20px;}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <div class="title">рдорд░рд╛рдареА AI рджреЛрд╕реНрдд</div>
      <div class="tagline">рддреБрдордЪреА рднрд╛рд╖рд╛, рддреБрдордЪреЗ AI тАФ рдореЛрдлрдд рдЖрдгрд┐ рд╕реЛрдкрдВ</div>

      <div class="row">
        <input id="q" placeholder="рдХрд╛рд╣реАрд╣реА рд╡рд┐рдЪрд╛рд░рд╛тАж рдЙрджрд╛. тАШрд░реЗрдЭреНрдпреБрдореЗ рдЯрд┐рдкреНрд╕тАЩ рдХрд┐рдВрд╡рд╛ тАШNEET рдкреНрд░рд╢реНрдитАЩ" />
        <button id="speakBtn">ЁЯОЩя╕П рдмреЛрд▓рд╛</button>
        <button id="askBtn">рд╡рд┐рдЪрд╛рд░рд╛</button>
      </div>
      <div class="hint">рд╡реНрд╣реЙрдИрд╕: рдмреНрд░рд╛рдЙрдЭрд░ STT/TTS (рдкреВрд░реНрдг рдлреНрд░реА). рдкреНрд░рд╛рдпрд╡реНрд╣рд╕реАрд╕рд╛рдареА рдХрд╛рд╣реАрд╣реА рд╕рд░реНрд╡реНрд╣рд░рд╡рд░ рд╕реЗрд╡реНрд╣ рд╣реЛрдд рдирд╛рд╣реА.</div>

      <div class="resp" id="resp">рдЗрдереЗ рдЙрддреНрддрд░ рджрд┐рд╕реЗрд▓тАж</div>

      <div class="row" style="margin-top:16px">
        <textarea id="resumeData" placeholder="рд░реЗрдЭреНрдпреБрдореЗ рдбреЗрдЯрд╛ (рдирд╛рд╡, рд╢рд┐рдХреНрд╖рдг, рдХреМрд╢рд▓реНрдпреЗ)тАж"></textarea>
        <button id="resumeBtn">рдорд░рд╛рдареАрдд рд░реЗрдЭреНрдпреБрдореЗ</button>
      </div>

      <div class="row">
        <button id="quizBtn">NEET/JEE рд╕рд░рд╛рд╡ (5 рдкреНрд░рд╢реНрди)</button>
        <button id="ttsBtn">рдЖрд╡рд╛рдЬрд╛рдд рд╡рд╛рдЪрд╛</button>
      </div>
    </div>

    <div class="footer">#рдорд░рд╛рдареАAI #рдореЛрдлрддAI | v0.1</div>
  </div>

  <script>
    const out = document.getElementById('resp');
    const input = document.getElementById('q');

    async function translateToMarathi(text) {
      // рдЖрдордЪрд╛ serverless proxy (рдЦрд╛рд▓реА рджрд┐рд▓рд╛ рдЖрд╣реЗ) тАУ Bhashini keys client рд▓рд╛ рджрд┐рд╕рдд рдирд╛рд╣реАрдд
      const r = await fetch('/api/bhashini-translate', {
        method:'POST',
        headers: { 'Content-Type':'application/json' },
        body: JSON.stringify({ text, source: 'en', target: 'mr' })
      });
      if (!r.ok) throw new Error('Translate API failed');
      const data = await r.json();
      return data.translatedText;
    }

    // рдбреЗрдореЛ: рдЗрдереЗ рддреБрдореНрд╣реА рдЦрд░рд╛ QA LLM рди рд╡рд╛рдкрд░рддрд╛ рд╕реБрд░реБрд╡рд╛рддреАрд▓рд╛ rule-based рдЙрддреНрддрд░ рджреЗрдК рд╢рдХрддрд╛
    async function simpleMarathiAnswer(q) {
      // рдЬрд░ рдЗрдирдкреБрдЯ рдорд░рд╛рдареАрдд рдирд╕реЗрд▓ рддрд░ рдорд░рд╛рдареАрдд рдЯреНрд░рд╛рдиреНрд╕рд▓реЗрдЯ рдХрд░рд╛
      let mrText = q;
      const devanagari = /[\u0900-\u097F]/;
      if (!devanagari.test(q)) {
        try { mrText = await translateToMarathi(q); } catch(e) {}
      }
      // рдЕрддрд┐рд╢рдп рд╕рд╛рдзрд╛ рдбреЗрдореЛ-рд╣рдБрдбрд▓рд░:
      if (mrText.includes('рд░реЗрдЭреНрдпреБрдореЗ')) {
        return 'рд░реЗрдЭреНрдпреБрдореЗ рдЯрд┐рдкреНрд╕: (1) рдЙрджреНрджрд┐рд╖реНрдЯ 1-2 рдУрд│реА, (2) рддрд╛рдЬреЗ рдкреНрд░реЛрдЬреЗрдХреНрдЯреНрд╕, (3) рдХреМрд╢рд▓реНрдпреЗ + GitHub рд▓рд┐рдВрдХ, (4) 1 рдкрд╛рди рдорд░реНрдпрд╛рджрд╛.';
      }
      if (mrText.includes('NEET') || mrText.includes('JEE')) {
        return 'NEET/JEE рд╕рд░рд╛рд╡ рдорд┐рд│рд╡рдгреНрдпрд╛рд╕рд╛рдареА "NEET/JEE рд╕рд░рд╛рд╡ (5 рдкреНрд░рд╢реНрди)" рдмрдЯрдг рджрд╛рдмрд╛.';
      }
      return 'рдореА рд╕рдордЬрд▓реЛ. рд▓рдЧреЗрдЪ рдорджрдд рдХрд░рддреЛ! рд╡рд░рдЪреНрдпрд╛ рдлреАрдЪрд░реНрд╕ рд╡рд╛рдкрд░реВрди рдмрдШрд╛.';
    }

    async function askAI() {
      const q = input.value.trim();
      if (!q) return;
      out.textContent = 'рд╡рд┐рдЪрд╛рд░рд╛рдд рдЖрд╣реЗтАж';
      const ans = await simpleMarathiAnswer(q);
      out.textContent = ans;
    }

    // Voice: Speech to Text (Chrome)
    const speakBtn = document.getElementById('speakBtn');
    let recognition;
    if ('webkitSpeechRecognition' in window) {
      recognition = new webkitSpeechRecognition();
      recognition.lang = 'mr-IN';
      recognition.interimResults = false;
      recognition.continuous = false;
      recognition.onresult = (e) => {
        const t = e.results[0][0].transcript;
        input.value = t;
      };
    } else {
      speakBtn.disabled = true;
      speakBtn.title = 'Speech Recognition not supported';
    }
    speakBtn.onclick = () => recognition && recognition.start();

    // Voice: Text to Speech
    function speak(text) {
      const u = new SpeechSynthesisUtterance(text);
      u.lang = 'mr-IN';
      u.rate = 1.0; u.pitch = 1.0;
      speechSynthesis.speak(u);
    }
    document.getElementById('ttsBtn').onclick = () => speak(out.textContent || 'рдирдорд╕реНрдХрд╛рд░!');

    // Resume (ultra simple template)
    document.getElementById('resumeBtn').onclick = () => {
      const d = document.getElementById('resumeData').value.trim() || 'рдирд╛рд╡: тАФ\nрд╢рд┐рдХреНрд╖рдг: тАФ\nрдХреМрд╢рд▓реНрдпреЗ: тАФ';
      const md = `# рд░реЗрдЭреНрдпреБрдореЗ (рдорд░рд╛рдареА)\n\n${d}\n\nтАФ рдорд░рд╛рдареА AI рджреЛрд╕реНрдд`;
      out.textContent = md;
    };

    // Quiz (preload 5 sample Qs тАФ рдирдВрддрд░ рдбреЗрдЯрд╛рдмреЗрд╕/рдлреЙрд░реНрдорд╢реА рдЬреЛрдбрд╛)
    document.getElementById('quizBtn').onclick = () => {
      const qs = [
        '1) DNA рдЪреЗ рдкреВрд░реНрдг рд░реВрдк рдХрд╛рдп? (A) Deoxyribonucleic acid',
        '2) рд░рдХреНрддрд╛рддреАрд▓ рд▓рд╛рд▓ рдкреЗрд╢реА рдХреБрдареЗ рдмрдирддрд╛рдд?',
        '3) Haversian system рдХреЛрдгрд╛рдд рдЖрдврд│рддреЗ?',
        '4) Lens рдЪрд╛ convex рднрд╛рдЧ рдХрд╢рд╛рд╕рд╛рдареА?',
        '5) Mendel рдиреЗ рдХреЛрдгрддреНрдпрд╛ рд╡рдирд╕реНрдкрддреАрд╡рд░ рдкреНрд░рдпреЛрдЧ рдХреЗрд▓реЗ?'
      ];
      out.textContent = qs.join('\n');
    };

    document.getElementById('askBtn').onclick = askAI;
  </script>
</body>
</html>
